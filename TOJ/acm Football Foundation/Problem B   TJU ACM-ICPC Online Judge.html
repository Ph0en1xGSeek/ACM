
<!-- saved from url=(0051)http://acm.tju.edu.cn/toj/vcontest/showp9903_B.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Pragma" content="no-cache">
<title>Problem B | TJU ACM-ICPC Online Judge</title><style type="text/css">#yddContainer{display:block;font-family:Microsoft YaHei;position:relative;width:100%;height:100%;top:-4px;left:-4px;font-size:12px;border:1px solid}#yddTop{display:block;height:22px}#yddTopBorderlr{display:block;position:static;height:17px;padding:2px 28px;line-height:17px;font-size:12px;color:#5079bb;font-weight:bold;border-style:none solid;border-width:1px}#yddTopBorderlr .ydd-sp{position:absolute;top:2px;height:0;overflow:hidden}.ydd-icon{left:5px;width:17px;padding:0px 0px 0px 0px;padding-top:17px;background-position:-16px -44px}.ydd-close{right:5px;width:16px;padding-top:16px;background-position:left -44px}#yddKeyTitle{float:left;text-decoration:none}#yddMiddle{display:block;margin-bottom:10px}.ydd-tabs{display:block;margin:5px 0;padding:0 5px;height:18px;border-bottom:1px solid}.ydd-tab{display:block;float:left;height:18px;margin:0 5px -1px 0;padding:0 4px;line-height:18px;border:1px solid;border-bottom:none}.ydd-trans-container{display:block;line-height:160%}.ydd-trans-container a{text-decoration:none;}#yddBottom{position:absolute;bottom:0;left:0;width:100%;height:22px;line-height:22px;overflow:hidden;background-position:left -22px}.ydd-padding010{padding:0 10px}#yddWrapper{color:#252525;z-index:10001;background:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ab20.png);}#yddContainer{background:#fff;border-color:#4b7598}#yddTopBorderlr{border-color:#f0f8fc}#yddWrapper .ydd-sp{background-image:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ydd-sprite.png)}#yddWrapper a,#yddWrapper a:hover,#yddWrapper a:visited{color:#50799b}#yddWrapper .ydd-tabs{color:#959595}.ydd-tabs,.ydd-tab{background:#fff;border-color:#d5e7f3}#yddBottom{color:#363636}#yddWrapper{min-width:250px;max-width:400px;}</style></head><body>
<center><a href="http://acm.tju.edu.cn/toj/"><img src="./Problem B   TJU ACM-ICPC Online Judge_files/head.jpg" width="770" height="80" alt="Tianjin University Online Judge" border="0"></a><font face="Times New Roman"><br>
<table width="80%" border="0"><tbody><tr align="center"><td width="17%"><a href="http://acm.tju.edu.cn/toj/vcontest/contest9903.html"><font color="green" size="+1">Problems</font></a></td><td width="16%"><a href="http://acm.tju.edu.cn/toj/vcontest/submit.php?cid=9903&pid=B"><font color="green" size="+1">Submit</font></a></td><td width="17%"><a href="http://acm.tju.edu.cn/toj/vcontest/status.php?cid=9903"><font color="green" size="+1">Runs Status</font></a></td><td width="17%"><a href="http://acm.tju.edu.cn/toj/vcontest/ranklist9903.html"><font color="green" size="+1">Rank List</font></a></td><td width="17%"><a href="http://acm.tju.edu.cn/toj/vcontest/stat9903.html"><font color="green" size="+1">Statistics</font></a></td><td><a href="http://acm.tju.edu.cn/toj/forum.php" target="_blank"><font color="green" size="+1">Clarifications</font></a></td></tr></tbody></table>
</font></center><hr><font face="Times New Roman">
<div style="background-image:url(../pics/bgt.gif)"><center><font size="+2">B.</font> &nbsp; <font size="+2" color="blue">Football Foundation (FOFO)</font></center>
<hr><center><font color="green">Time Limit:</font> 0.5 Seconds&nbsp; &nbsp;<font color="green">Memory Limit: </font>65536K</center><hr><br><br>
<span lang="en"><p align="center"><img src="./Problem B   TJU ACM-ICPC Online Judge_files/2556_football.gif"></p>
<p>The football foundation (FOFO) has been researching on soccer; they created a set of sensors to describe the
ball behavior based on a grid uniformly distributed on the field. They found that they could predict the ball
movements based on historical analysis. Each square sensor of the grid can detect the following patterns:
</p><p></p><blockquote>
<tt>N</tt>&nbsp; north (up the field)<br>
<tt>S</tt>&nbsp; south (south the field)<br>
<tt>E</tt>&nbsp; east (to the right on the field)<br>
<tt>W</tt>&nbsp; west (to the left on the field)
</blockquote>
<p>For example, in grid 1, suppose the ball was thrown into the field from north
side into the field. The path the sensors detected for this movement follows as
shown. The ball went through 10 sensors before leaving the field.
</p><p>Comparing with what happened on grid 2, the ball went through 3 sensors only once, and started a loop
through 8 instructions and never exits the field.
</p><p>You are selected to write a program in order to evaluate line judges job, with the following out put based on
each grid of sensors, the program needs to determine how long it takes to the ball to get out of the grid or how
the ball loops around.
</p><p></p><h3>Input</h3>
<p>There will be one or more grids of sensors for the same game. The data for each is in the following form. On the
first line are three integers separated by blanks: The number of rows in the grid, the number of columns in the
grid, and the number of the column in which the ball enters from the north. The grid column's number starts with
one at the left. Then come the rows of direction instructions. The lines of instructions contain only the
characters <tt>N</tt>, <tt>S</tt>, <tt>E</tt> or <tt>W</tt>, with no blanks. The end of input is indicated by a grid containing <tt>0 0 0</tt> as limits.
</p><p></p><h3>Output</h3>
<p>For each grid in the input there is one line of output. Either the ball follows a certain number of sensors and
exits the field on any one of the four sides or else the ball follows the behavior on some number of sensors
repeatedly. The sample input below corresponds to the two grids above and illustrates the two forms of output.
The word "<tt>step</tt>" is always immediately followed by "<tt>(s)</tt>" whether or not the number before is 1.
</p><p></p><h3>Sample Input</h3>
<tt><pre>3 6 5
NEESWE
WWWESS
SNWWWW
4 5 1
SESWE
EESNW
NWEEN
EWSEN
0 0 0
</pre></tt>
<p></p><h3>Sample Output</h3>
<tt><pre>10 step(s) to exit
3 step(s) before a loop of 8 step(s)
</pre></tt>
<br><br></span><font face="Lucida Handwriting,Arial" color="red"><b>Source:</b>&nbsp; <i><a style="text-decoration: none; color: red" href="http://acm.tju.edu.cn/toj/search_process.php?s=Mexico+and+Central+America+2006">Mexico and Central America 2006</a></i></font><font face="Arial"><br><br><a href="http://acm.tju.edu.cn/toj/showp2556.html">Problem ID in problemset: 2556</a></font><br><br>
<hr><center><b><a href="http://acm.tju.edu.cn/toj/vcontest/submit.php?cid=9903&pid=B">Submit</a>&nbsp; &nbsp;<a href="http://acm.tju.edu.cn/toj/vcontest/contest9903.html"><font color="00C000">Back</font></a>&nbsp; &nbsp;<a href="http://acm.tju.edu.cn/toj/vcontest/status.php?cid=9903&pid=B"><font color="black">Runs</font></a>&nbsp; &nbsp;<a href="http://acm.tju.edu.cn/toj/problem_stat.php?pid=2556" target="_blank">Statistics</a>&nbsp; &nbsp;<a href="http://acm.tju.edu.cn/toj/forum.php?pid=2556" target="_blank"><font color="006060">Clarifications</font></a></b></center>
<hr><center><a href="http://acm.tju.edu.cn/toj/"><font color="blue">Tianjin University Online Judge</font></a> <font color="red">v1.2.4</font></center>
</div>
</font></body></html>